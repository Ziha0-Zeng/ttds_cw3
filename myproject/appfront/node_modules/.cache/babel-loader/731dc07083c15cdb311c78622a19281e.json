{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"SearchResult\",\n  methods: {\n    handleSizeChange: function handleSizeChange(val) {\n      console.log(\"\\u6BCF\\u9875 \".concat(val, \" \\u6761\"));\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n      this.curpage = val;\n      window.scrollTo(0, 0);\n    }\n  },\n  data: function data() {\n    return {\n      papers: [],\n      curpage: 1,\n      pagesize: 10,\n      rankMethod: 0,\n      filterMethod: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$bus.$on('getResults', function (papers) {\n      console.log(\"mount\");\n      _this.papers = papers;\n    });\n    this.$bus.$on('rank', function (rankMethod) {\n      console.log(\"mount2\");\n      _this.rankMethod = rankMethod;\n    });\n    this.$bus.$on('filter', function (filterMethod) {\n      console.log(\"mount3\");\n      _this.filterMethod = filterMethod;\n    });\n  },\n  watch: {\n    filterMethod: function filterMethod() {\n      console.log(\"filter method changes\");\n    },\n    rankMethod: function rankMethod() {\n      console.log(\"rank method changes\");\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAwBA;AACAA,sBADA;AAEAC;AACAC,oBADA,4BACAC,GADA,EACA;AACAC;AACA,KAHA;AAIAC,uBAJA,+BAIAF,GAJA,EAIA;AACAC;AACA;AACAE;AACA;AARA,GAFA;AAYAC,MAZA,kBAYA;AACA;AACAC,gBADA;AAEAC,gBAFA;AAGAC,kBAHA;AAIAC,mBAJA;AAKAC;AALA;AAOA,GApBA;AAsBAC,SAtBA,qBAsBA;AAAA;;AACA;AACAT;AACA;AACA,KAHA;AAKA;AACAA;AACA;AACA,KAHA;AAKA;AACAA;AACA;AACA,KAHA;AAIA,GArCA;AAuCAU;AACAF;AACAR;AACA,KAHA;AAIAO;AACAP;AACA;AANA;AAvCA","names":["name","methods","handleSizeChange","val","console","handleCurrentChange","window","data","papers","curpage","pagesize","rankMethod","filterMethod","mounted","watch"],"sourceRoot":"src/components","sources":["SearchResult.vue"],"sourcesContent":["<template>\n  <div>\n      <div v-for=\"paper in papers.slice((curpage - 1) * pagesize, curpage*pagesize)\" :key=\"paper.title\" class=\"paperBox\"> \n        <div><h4 class=\"title\"> {{paper.title}} </h4> </div>\n        <div class = \"authors\"> {{paper.authors}} </div>\n        <div class = \"abstract\"> {{paper.abstract.substring(0,270)}}... </div>\n      </div>\n      <div class=\"pagination\">\n        <el-pagination\n        background\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"1\"\n        :page-size=\"pagesize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"papers.length\"\n        >\n        </el-pagination>\n      </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n    name:\"SearchResult\",\n    methods: {\n      handleSizeChange(val) {\n        console.log(`每页 ${val} 条`);\n      },\n      handleCurrentChange(val) {\n        console.log(`当前页: ${val}`);\n        this.curpage = val;\n        window.scrollTo(0,0)\n      }  \n    },\n    data() {\n      return {\n        papers:[],\n        curpage:1,\n        pagesize:10,\n        rankMethod: 0,\n        filterMethod: 0\n      };\n    },\n\n    mounted() {\n      this.$bus.$on('getResults', (papers)=>{\n        console.log(\"mount\")\n        this.papers = papers;\n      })\n\n      this.$bus.$on('rank', (rankMethod)=>{\n        console.log(\"mount2\")\n        this.rankMethod = rankMethod;\n      })\n\n      this.$bus.$on('filter', (filterMethod)=>{\n        console.log(\"mount3\")\n        this.filterMethod = filterMethod;\n      })\n    },\n\n    watch: {\n      filterMethod: function (){\n        console.log(\"filter method changes\")\n      },\n      rankMethod: function (){\n        console.log(\"rank method changes\")\n      }\n    }\n\n\n}\n</script>\n\n<style scoped>\n.pagination{\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    text-align: center;\n    width: 70%;\n    max-width: 7500px;\n    min-width: 600px;\n   \n}\n\n.paperBox{\n    width: 70%;\n    max-width: 750px;\n    min-width: 600px;\n}\n\n.title{\n    color: blue;\n    margin-top: 10px;\n    margin-bottom: 10px;\n}\n\n.authors{\n    color: #006621;\n    font-size: 14px;\n}\n\n.abstract{\n    margin-top: 10px;\n    margin-bottom: 30px;\n\n    font-size: 12px;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}