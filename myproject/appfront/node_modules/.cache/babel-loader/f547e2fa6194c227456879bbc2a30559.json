{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'QueryInput',\n  data: function data() {\n    return {\n      query: \"\",\n      routeQuery: \"\"\n    };\n  },\n  methods: {\n    send_query: function send_query() {\n      var _this = this;\n\n      if (this.query.length > 0) {\n        // //submit the query\n        // if(this.firstLoad !== 0){\n        //     if(this.$route.query.query !== this.query){\n        //         this.$router.push ({\n        //             name: 'searchPage',\n        //             query:{\n        //                 query:this.query,\n        //             }\n        //         })\n        //     }\n        // }\n        console.log();\n        this.$route.query.query = this.query;\n        this.routeQuery = this.query;\n        axios.get(\"http://localhost:8000/myapp/search?query=\".concat(this.query)).then(function (response) {\n          console.log(\"success\", response.data);\n\n          _this.$bus.$emit('getResults', response.data.papers);\n        }, function (error) {\n          console.log(\"fail123\", error.message);\n        });\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.query = this.$route.query.query;\n    this.routeQuery = this.$route.query.query;\n    document.title = this.query + ' - Search';\n\n    if (this.query.length > 0) {\n      this.send_query();\n    }\n  },\n  watch: {\n    routeQuery: function routeQuery() {\n      console.log(this);\n      this.$router.push({\n        name: 'searchPage',\n        query: {\n          query: this.query\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;AAeA;AACA;AACAA,oBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,eADA;AAEAC;AAFA;AAIA,GAPA;AAQAC;AACAC,cADA,wBACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC;AACA;AACA;AACAC,uFACA;AACAD;;AACA;AACA,SAJA,EAKA;AACAA;AACA,SAPA;AASA;AACA;AA5BA,GARA;AAsCAE,SAtCA,qBAsCA;AACA;AACA;AACAC;;AACA;AACA;AACA;AAEA,GA9CA;AAkDAC;AACAP,cADA,wBACA;AACAG;AACA;AACAN,0BADA;AAEAE;AACAA;AADA;AAFA;AAMA;AATA;AAlDA","names":["name","data","query","routeQuery","methods","send_query","console","axios","mounted","document","watch"],"sourceRoot":"src/components","sources":["QueryInput.vue"],"sourcesContent":["<template>\n    <div class= \"outer_box\">\n        <div class=\"icon_box\">\n            <img src = \"../assets/logo.png\" class = \"logo_img\">\n        </div>\n        <div class = \"search_box\">\n            <img src=\"../assets/search.png\" class=\"search_img\">\n            <input type=\"text\" name = \"query\" v-model=\"query\">\n            <button @click=\"send_query()\"> Search </button>\n        </div>\n    </div>\n    \n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name:'QueryInput',\n    data(){\n        return {\n            query:\"\",\n            routeQuery:\"\",\n\t\t}\n    },\n    methods: {\n\t\tsend_query(){\n            if(this.query.length > 0){\n                // //submit the query\n                // if(this.firstLoad !== 0){\n                //     if(this.$route.query.query !== this.query){\n                //         this.$router.push ({\n                //             name: 'searchPage',\n                //             query:{\n                //                 query:this.query,\n                //             }\n                //         })\n                //     }\n                // }\n                \n                console.log()\n                this.$route.query.query = this.query\n                this.routeQuery =  this.query\n                axios.get(`http://localhost:8000/myapp/search?query=${this.query}`).then(\n                    response => {\n                        console.log(\"success\", response.data);\n                        this.$bus.$emit('getResults', response.data.papers);\n                    },\n                    error => { \n                        console.log(\"fail123\", error.message);\n                    }\n                )\n            }\n\t\t}\n\t},\n    mounted(){\n        this.query = this.$route.query.query;\n        this.routeQuery = this.$route.query.query;\n        document.title = this.query + ' - Search'\n        if(this.query.length > 0){\n            this.send_query()\n        }\n        \n    },\n\n\n\n    watch: {\n        routeQuery() {\n            console.log(this)\n            this.$router.push ({\n                name: 'searchPage',\n                query:{\n                    query:this.query,\n                }\n            })\n        }\n    },\n}\n</script>\n\n<style scoped>\n.outer_box{\n    width: 800px;\n    height: 50px;\n    margin-top: 30px;\n    margin-left: 30px;\n}\n\n.icon_box{\n    display: inline;\n    width: 300px;\n    float: left;\n}\n\n.logo_img{\n    height: 40px;\n}\n\n.search_box{\n    position: relative;\n    width: 500px;\n    float: left;\n    height: 30px;\n}\n\n.search_img{\n    position: absolute;\n    top: 11px;\n    left: 12px;\n    height: 17px;\n}\n\n.search_box input{\n    width: 100% ;\n    height: 35px;\n    border-width: 1px;\n    border-style: solid;\n    border-radius: 10px;\n    border-color: gainsboro;\n    font-size: 14px;\n    padding-left: 40px;\n}\n.search_box input:HOVER{\n    -webkit-transition:-webkit-box-shadow linear .2s;\n    -webkit-box-shadow:0 0 18px rgba(210,210,210,3);\n}\n\n.search_box input:focus{\n    outline: none;\n}\n\n.search_box button{\n    position: absolute;\n    top: 0px;\n    right: -49px;\n    height: 39px;\n    border: none;\n    background-color: rgb(78, 110, 242);\n    color: white;\n    border-radius:10px;\n    outline: none;\n    width: 100px;\n    font-size: 18px;\n    padding: 5px;\n}\n\n.search_box button:HOVER{\n    background-color: #2b56f0;\n}\n\n.advanceBtn{\n    position: relative;\n    top: 0px;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}